(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.wp.element,r=window.wp.blockEditor,c=window.wp.components,o=window.wp.i18n,l=window.wp.data,a=window.wp.serverSideRender;var s=e.n(a);(0,t.registerBlockType)("tec-category-selector/events-list",{edit:function({attributes:e,setAttributes:t}){const{selectedCategories:a,numberOfEvents:i}=e,[d,g]=(0,n.useState)(!0),u=(0,l.useSelect)((e=>{const{getEntityRecords:t}=e("core");return t("taxonomy","tribe_events_cat",{per_page:100})}),[]);return(0,n.useEffect)((()=>{null!==u&&g(!1)}),[u]),(0,n.createElement)("div",{className:"tec-category-selector-block"},(0,n.createElement)(r.InspectorControls,null,(0,n.createElement)(c.PanelBody,{title:(0,o.__)("Event Settings","tec-category-selector")},(0,n.createElement)("div",{className:"tec-category-selector"},(0,n.createElement)("p",null,(0,n.createElement)("strong",null,(0,o.__)("Select Event Categories","tec-category-selector"))),d?(0,n.createElement)(c.Spinner,null):u&&u.length>0?(0,n.createElement)("div",{className:"tec-categories-list"},u.map((e=>(0,n.createElement)(c.CheckboxControl,{key:e.id,label:e.name,checked:a.includes(e.id.toString()),onChange:()=>(e=>{const n=[...a];n.includes(e.toString())?t({selectedCategories:n.filter((t=>t!==e.toString()))}):t({selectedCategories:[...n,e.toString()]})})(e.id.toString())})))):(0,n.createElement)("p",null,(0,o.__)("No event categories found. Please create some categories in The Events Calendar.","tec-category-selector"))),(0,n.createElement)(c.RangeControl,{label:(0,o.__)("Number of Events","tec-category-selector"),value:i,onChange:e=>t({numberOfEvents:e}),min:1,max:20}))),(0,n.createElement)("div",{className:"tec-category-selector-preview"},(0,n.createElement)(s(),{block:"tec-category-selector/events-list",attributes:e})))},save:function(){return null}})})();